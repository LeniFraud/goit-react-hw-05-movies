{"version":3,"file":"static/js/156.cf601d9e.chunk.js","mappings":"8RAEaA,EAAUC,EAAAA,GAAAA,KAAH,yCAIPC,EAAQD,EAAAA,GAAAA,GAAH,2F,SCAH,SAASE,IACtB,OAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwBF,EAAAA,EAAAA,UAAS,GAAjC,eAAOG,EAAP,KAAaC,EAAb,KACA,GAAoCJ,EAAAA,EAAAA,UAAS,GAA7C,eAAOK,EAAP,KAAmBC,EAAnB,KACA,GAA8BN,EAAAA,EAAAA,WAAS,GAAvC,eAAOO,EAAP,KAAgBC,EAAhB,KACA,GAA0BR,EAAAA,EAAAA,UAAS,MAAnC,eAAOS,EAAP,KAAcC,EAAd,MAEAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAa,IAAIC,gBACjBC,EAAS,mCAAG,wGAEdN,GAAW,GAFG,UAG+BO,EAAAA,EAAAA,IAC3CZ,EACAS,EAAWI,QALC,mBAGNf,EAHM,EAGNA,OAAQI,EAHF,EAGEA,YAHF,EAGcY,OAHd,mDAQdf,GAAU,SAAAgB,GAAU,wBAAQA,IAAR,OAAuBjB,GAAvB,IACpBK,EAAcD,GATA,kDAWdK,EAAS,EAAD,IAXM,yBAadF,GAAW,GAbG,6EAAH,qDAkBf,OADAM,IACO,kBAAMF,EAAWO,OAAjB,CACR,GAAE,CAAChB,KAEJQ,EAAAA,EAAAA,YAAU,WACJF,IAAOW,EAAAA,EAAAA,KACZ,GAAE,CAACX,IAIJ,OACE,SAACb,EAAD,WACE,UAAC,KAAD,YACE,SAACE,EAAD,6BACCS,IAAW,SAAC,KAAD,MACTN,EAAOoB,SACR,SAAC,KAAD,CAAepB,OAAQA,EAAQqB,KAAMC,EAAAA,EAAAA,eAEtClB,EAAa,IAAK,SAAC,KAAD,CAAYmB,QAVV,kBAAMpB,GAAQ,SAAAqB,GAAQ,OAAIA,EAAW,CAAf,GAAtB,QAc5B,C","sources":["pages/HomePage/HomePage.styled.js","pages/HomePage/HomePage.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const MainBox = styled.main`\n  flex-grow: 1;\n`;\n\nexport const Title = styled.h2`\n  margin-bottom: 20px;\n  font-size: 30px;\n  text-align: center;\n`;\n","import { useState, useEffect } from 'react';\nimport { routes } from 'utils/routes';\nimport { LoadButton, MoviesGallery, Loader, Container } from 'components';\nimport { getTrendingMovies, alertOnError } from 'services';\nimport { Title, MainBox } from './HomePage.styled';\n\nexport default function HomePage() {\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const controller = new AbortController();\n    const getMovies = async () => {\n      try {\n        setLoading(true);\n        const { movies, totalPages, cancel } = await getTrendingMovies(\n          page,\n          controller.signal\n        );\n        if (cancel) return;\n        setMovies(prevMovies => [...prevMovies, ...movies]);\n        setTotalPages(totalPages);\n      } catch (err) {\n        setError(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    getMovies();\n    return () => controller.abort();\n  }, [page]);\n\n  useEffect(() => {\n    if (error) alertOnError();\n  }, [error]);\n\n  const onLoadMoreBtnClick = () => setPage(prevPage => prevPage + 1);\n\n  return (\n    <MainBox>\n      <Container>\n        <Title>Trending today</Title>\n        {loading && <Loader />}\n        {!!movies.length && (\n          <MoviesGallery movies={movies} path={routes.HOME_GALLERY} />\n        )}\n        {totalPages > 1 && <LoadButton onClick={onLoadMoreBtnClick} />}\n      </Container>\n    </MainBox>\n  );\n}\n"],"names":["MainBox","styled","Title","HomePage","useState","movies","setMovies","page","setPage","totalPages","setTotalPages","loading","setLoading","error","setError","useEffect","controller","AbortController","getMovies","getTrendingMovies","signal","cancel","prevMovies","abort","alertOnError","length","path","routes","onClick","prevPage"],"sourceRoot":""}