"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[667],{667:function(t,e,n){n.r(e),n.d(e,{default:function(){return v}});var r=n(433),u=n(861),a=n(439),s=n(757),c=n.n(s),i=n(791),o=n(87),f=n(114),l=n(612),p=n(184);function v(){var t=(0,i.useState)([]),e=(0,a.Z)(t,2),n=e[0],s=e[1],v=(0,i.useState)(1),h=(0,a.Z)(v,2),b=h[0],k=h[1],x=(0,i.useState)(0),Z=(0,a.Z)(x,2),_=Z[0],m=Z[1],w=(0,i.useState)(!1),g=(0,a.Z)(w,2),S=g[0],j=g[1],C=(0,i.useState)(null),d=(0,a.Z)(C,2),y=d[0],E=d[1],q=(0,o.lr)(),I=(0,a.Z)(q,2),A=I[0],L=I[1],N=A.get("query");(0,i.useEffect)((function(){if(N){var t=new AbortController,e=function(){var e=(0,u.Z)(c().mark((function e(){var n,u,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,(0,l.gy)(N,b,t.signal);case 4:if(n=e.sent,u=n.movies,a=n.totalResults,!n.cancel){e.next=10;break}return e.abrupt("return");case 10:if((0,l.E0)(u.length,a),0!==a){e.next=13;break}return e.abrupt("return",L(""));case 13:s((function(t){return[].concat((0,r.Z)(t),(0,r.Z)(u))})),m(a),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),E(e.t0);case 20:return e.prev=20,j(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[0,17,20,23]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){return t.abort()}}}),[b,N,L]),(0,i.useEffect)((function(){y&&(0,l.k_)()}),[y]);return(0,p.jsxs)("main",{children:[(0,p.jsx)(f.UI,{onSubmit:function(t){var e=t.trim().toLowerCase();if(e===N)return(0,l.Ol)(N);s([]),L({query:e}),k(1),m(0)}}),S&&(0,p.jsx)(f.aN,{}),!!n.length&&(0,p.jsx)(f.sI,{movies:n,path:""}),_>20&&(0,p.jsx)(f.sf,{onClick:function(){return k((function(t){return t+1}))}})]})}}}]);
//# sourceMappingURL=667.310feb83.chunk.js.map