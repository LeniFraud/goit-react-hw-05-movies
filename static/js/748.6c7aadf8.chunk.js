"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[748],{748:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var r,u=n(433),a=n(861),s=n(439),c=n(757),i=n.n(c),o=n(791),f=n(87),l=n(700),h=n(612),p=n(168),v=n(444).ZP.main(r||(r=(0,p.Z)(["\n  flex-grow: 1;\n"]))),x=n(184);function Z(){var e=(0,o.useState)([]),t=(0,s.Z)(e,2),n=t[0],r=t[1],c=(0,o.useState)(1),p=(0,s.Z)(c,2),Z=p[0],b=p[1],k=(0,o.useState)(0),w=(0,s.Z)(k,2),_=w[0],g=w[1],m=(0,o.useState)(!1),j=(0,s.Z)(m,2),S=j[0],d=j[1],C=(0,o.useState)(null),y=(0,s.Z)(C,2),E=y[0],q=y[1],I=(0,f.lr)(),A=(0,s.Z)(I,2),L=A[0],N=A[1],O=L.get("query");(0,o.useEffect)((function(){if(O){var e=new AbortController,t=function(){var t=(0,a.Z)(i().mark((function t(){var n,a,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,d(!0),t.next=4,(0,h.gy)(O,Z,e.signal);case 4:if(n=t.sent,a=n.movies,s=n.totalResults,!n.cancel){t.next=10;break}return t.abrupt("return");case 10:if((0,h.E0)(a.length,s),0!==s){t.next=13;break}return t.abrupt("return",N(""));case 13:r((function(e){return[].concat((0,u.Z)(e),(0,u.Z)(a))})),g(s),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),q(t.t0);case 20:return t.prev=20,d(!1),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[0,17,20,23]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){return e.abort()}}}),[Z,O,N]),(0,o.useEffect)((function(){E&&(0,h.k_)()}),[E]);return(0,x.jsx)(v,{children:(0,x.jsxs)(l.W2,{children:[(0,x.jsx)(l.UI,{onSubmit:function(e){var t=e.trim().toLowerCase();if(t===O)return(0,h.Ol)(O);r([]),N({query:t}),b(1),g(0)}}),S&&(0,x.jsx)(l.aN,{}),!!n.length&&(0,x.jsx)(l.sI,{movies:n,path:""}),_>20&&(0,x.jsx)(l.sf,{onClick:function(){return b((function(e){return e+1}))}})]})})}}}]);
//# sourceMappingURL=748.6c7aadf8.chunk.js.map