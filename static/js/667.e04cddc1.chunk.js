"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[667],{667:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(433),u=n(861),a=n(439),s=n(757),c=n.n(s),i=n(791),o=n(87),f=n(700),l=n(612),h=n(184);function p(){var e=(0,i.useState)([]),t=(0,a.Z)(e,2),n=t[0],s=t[1],p=(0,i.useState)(1),v=(0,a.Z)(p,2),x=v[0],b=v[1],k=(0,i.useState)(0),Z=(0,a.Z)(k,2),_=Z[0],m=Z[1],w=(0,i.useState)(!1),g=(0,a.Z)(w,2),j=g[0],S=g[1],d=(0,i.useState)(null),C=(0,a.Z)(d,2),y=C[0],E=C[1],q=(0,o.lr)(),I=(0,a.Z)(q,2),A=I[0],L=I[1],N=A.get("query");(0,i.useEffect)((function(){if(N){var e=new AbortController,t=function(){var t=(0,u.Z)(c().mark((function t(){var n,u,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,S(!0),t.next=4,(0,l.gy)(N,x,e.signal);case 4:if(n=t.sent,u=n.movies,a=n.totalResults,!n.cancel){t.next=10;break}return t.abrupt("return");case 10:if((0,l.E0)(u.length,a),0!==a){t.next=13;break}return t.abrupt("return",L(""));case 13:s((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(u))})),m(a),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),E(t.t0);case 20:return t.prev=20,S(!1),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[0,17,20,23]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){return e.abort()}}}),[x,N,L]),(0,i.useEffect)((function(){y&&(0,l.k_)()}),[y]);return(0,h.jsx)("main",{children:(0,h.jsxs)(f.W2,{children:[(0,h.jsx)(f.UI,{onSubmit:function(e){var t=e.trim().toLowerCase();if(t===N)return(0,l.Ol)(N);s([]),L({query:t}),b(1),m(0)}}),j&&(0,h.jsx)(f.aN,{}),!!n.length&&(0,h.jsx)(f.sI,{movies:n,path:""}),_>20&&(0,h.jsx)(f.sf,{onClick:function(){return b((function(e){return e+1}))}})]})})}}}]);
//# sourceMappingURL=667.e04cddc1.chunk.js.map